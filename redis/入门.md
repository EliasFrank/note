**Nosql概述**

```
NoSQL
```

NoSQL = Not Only SQL（不仅仅是SQL）

关系型数据库：表格、行、列

泛指非关系型数据库，随着web2.0的诞生！传统的关系型数据库很难对付web2.0时代。尤其是超大规模的高并发的社区，暴露出来很多难以克服的问题，NoSQL在当今大数据环境下发展的十分迅速，redis是发展最快的，而且是我们当下必须要掌握的一个技术

很多的数据类型用户的个人信息，社交网络、地理位置，这些生活距离类型的存储不需要一个固定的格式！不需要多余的操作就可以扩展的！Map<String, Object> 使用键值对来控制

---

NoSQL特点

1. 方便扩展（数据之间没有关系，很好扩展）

2. 大数据高性能（redis一秒写8万次，读取11万，nosql的缓存记录级，是一种细粒度的缓存，性能会比较高）

3. 数据类型是多样性的（不需要事先设计数据库，随取随用，如果是数据量十分大的表，很多人就无法设计了）

4. 传统RDBMS和NOSQL

   ```
   传统RDBMS
   -- 结构化组织
   -- sql
   -- 数据操作，数据定义语言
   -- 严格的一致性
   -- 基础的事务
   。。。。。。
   ```

   ```
   nosql
   -- 不仅仅是数据
   -- 没有固定的查询语言
   -- 键值对存储，列存储，文档存储，图形数据库（社交关系）
   -- 最终一致性
   -- CAP定理和BASE （异地多活）
   -- 高性能、高可用、高可扩
   。。。
   ```

   ```
   大数据时代的3V和3高
   大数据时代的3V：主要是描述问题的
   1. 海量Volume
   2. 多样Variety
   3. 实时Velocity
   大数据时代的3高，主要是对程序的要求
   1. 高并发
   2. 高可扩
   3. 高性能
   ```

   真正在公司中的实践：nosql + rdbms 一起使用才是最强的，阿里巴巴的架构演进

----

**nosql的四大分类**

1. kv键值对
2. 文档型数据库（bson格式和json一样）
   * MongoDB是一个基于分布式文件存储的数据库，C++编写，主要用来处理大量的文档
   * MongoDB是一个介于关系型数据库和非关系型数据中的中间产品！MongoDB是非关系型数据库中功能最丰富、最像关系型数据库的
3. 列存储数据库
   * HBaase
   * 分布式文件系统
4. 图关系数据库
   * 他不是存图形，放的是关系

![1599266869856](C:\Users\hl2333\AppData\Roaming\Typora\typora-user-images\1599266869856.png)

---

**redis**

redis会周期性的把更新的数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了master-lsave（主从）同步

> redis能干嘛
>
> 1. 内存存储、持久化，内存中是断电即失、所以说持久化很重要（rdb、aof)
> 2. 效率高，可以用于高速缓存
> 3. 发布订阅系统
> 4. 地图信息分析
> 5. 计时器、计数器（浏览量）

> 特性
>
> 1.  多样的数据类型
> 2. 持久化
> 3. 集群
> 4. 事务

> 简单测试一下redis
>
> 测试：100个并发连接，100000个请求
>
> redis-benchmark -h localhost -p 6379 -c 100 -n 100000
