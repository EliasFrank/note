缓存：暂时的存储一些数据：加快系统的查询速度

一级缓存：线程级别的缓存，本地缓存，sqlSession级别的缓存（默认存在）

一级缓存失效的几种情况：

1. 不同的sqlSession，使用不同的一级缓存

   只有在同一个sqlSession期间查询到的数据会保存在这个sqlSession的缓存中

   下次使用这个sqlSession查询会从缓存中拿

2. 同一个方法，不同的参数，由于可能执勤啊没查询过，所以还会发新的sql

3. 在这个sqlSession期间执行任何一次增删改操作，增删改操作会把缓存清空

4. 手动清空了缓存

每次查询，先看一级缓存中有没有，如果哦没有就去发送新的SQL

二级缓存：全局范围的缓存；除过当前线程，sqlSession能用外，其他也可以使用

一级缓存在sqlSession关闭或提交后，一级缓存的数据会放在二级缓存中，mybatis默认没有使用二级缓存，需要配置

1. 全局配置开启二级缓存

   ```xml
   <setting name="cacheEnabled" value="true"/>
   ```

2. 配置某个dao.xml文件，让其使用二级缓存

   ```xml
   <cache></cache>
   ```

---

不会出现一级缓存和二级缓存中同一个数据

二级缓存中，一级缓存关闭了就有了

一级缓存中，二级缓存中没有此数据，就会看一级缓存，一级缓存没有去查数据库

​	数据库的查询后的结果放在二级缓存中

任何时候都是先看二级缓存，再看一级缓存，如果大家都没有就去查询数据库





















